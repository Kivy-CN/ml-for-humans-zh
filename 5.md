# äº”ã€å¼ºåŒ–å­¦ä¹ 

> æ¢ç´¢å’Œåˆ©ç”¨ã€‚é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ã€‚Q å­¦ä¹ ï¼Œç­–ç•¥å­¦ä¹ å’Œæ·±åº¦å¼ºåŒ–å­¦ä¹ ã€‚

> æˆ‘åˆšåˆšåƒäº†ä¸€äº›å·§å…‹åŠ›æ¥å®Œæˆæœ€åè¿™éƒ¨åˆ†ã€‚

åœ¨ç›‘ç£å­¦ä¹ ä¸­ï¼Œè®­ç»ƒæ•°æ®å¸¦æœ‰æ¥è‡ªç¥ä¸€èˆ¬çš„â€œç›‘ç£è€…â€çš„ç­”æ¡ˆã€‚å¦‚æœç”Ÿæ´»å¯ä»¥è¿™æ ·ï¼Œè¯¥å¤šå¥½ï¼

åœ¨å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰ä¸­ï¼Œæ²¡æœ‰è¿™ç§ç­”æ¡ˆï¼Œä½†æ˜¯ä½ çš„å¼ºåŒ–å­¦ä¹ æ™ºèƒ½ä½“ä»ç„¶å¯ä»¥å†³å®šå¦‚ä½•æ‰§è¡Œå®ƒçš„ä»»åŠ¡ã€‚åœ¨ç¼ºå°‘ç°æœ‰è®­ç»ƒæ•°æ®çš„æƒ…å†µä¸‹ï¼Œæ™ºèƒ½ä½“ä»ç»éªŒä¸­å­¦ä¹ ã€‚åœ¨å®ƒå°è¯•ä»»åŠ¡çš„æ—¶å€™ï¼Œå®ƒé€šè¿‡å°è¯•å’Œé”™è¯¯æ”¶é›†è®­ç»ƒæ ·æœ¬ï¼ˆè¿™ä¸ªåŠ¨ä½œéå¸¸å¥½ï¼Œæˆ–è€…éå¸¸å·®ï¼‰ï¼Œç›®æ ‡æ˜¯ä½¿é•¿æœŸå¥–åŠ±æœ€å¤§ã€‚

åœ¨è¿™ä¸ªâ€œå†™ç»™äººç±»çš„æœºå™¨å­¦ä¹ â€çš„æœ€åä¸€ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šæ¢ç´¢ï¼š

+   æ¢ç´¢å’Œåˆ©ç”¨çš„æƒè¡¡
+   é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰ï¼Œç”¨äº RL ä»»åŠ¡çš„ç»å…¸é…ç½®
+   Q å­¦ä¹ ï¼Œç­–ç•¥å­¦ä¹ å’Œæ·±åº¦å¼ºåŒ–å­¦ä¹ 
+   æœ€åï¼Œåˆ†å€¼å­¦ä¹ çš„é—®é¢˜

æœ€åï¼Œåƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬ç¼–è¯‘äº†ä¸€äº›æœ€å–œæ¬¢çš„èµ„æºï¼Œç”¨äºæ·±å…¥æ¢ç´¢ã€‚

## è®©æˆ‘ä»¬åœ¨è¿·å®«ä¸­æ”¾ä¸€ä¸ªæœºå™¨è€é¼ 

æ€è€ƒå¼ºåŒ–å­¦ä¹ çš„æœ€ç®€å•çš„è¯­å¢ƒæ˜¯ä¸€ä¸ªæ¸¸æˆï¼Œå®ƒæ‹¥æœ‰æ˜ç¡®çš„ç›®æ ‡å’Œç§¯åˆ†ç³»ç»Ÿã€‚

å‡è®¾æˆ‘ä»¬æ­£åœ¨ç©ä¸€ä¸ªæ¸¸æˆï¼Œå…¶ä¸­æˆ‘ä»¬çš„è€é¼ æ­£åœ¨å¯»æ‰¾è¿·å®«çš„å°½å¤´å¤„çš„å¥¶é…ªçš„ç»ˆæå¥–åŠ±ï¼ˆğŸ§€ + 1000 åˆ†ï¼‰ï¼Œæˆ–è€…æ²¿è·¯çš„æ°´çš„è¾ƒå°‘å¥–åŠ±ï¼ˆğŸ’§ + 10 åˆ†ï¼‰ã€‚åŒæ—¶ï¼Œæœºå™¨è€é¼ æ‰“ç®—é¿å¼€å¸¦æœ‰ç”µå‡»çš„åŒºåŸŸï¼ˆâš¡ - 100 åˆ†ï¼‰ã€‚

![](img/5-1.png)

> å¥–åŠ±å°±æ˜¯å¥¶é…ª

åœ¨ä¸€äº›æ¢ç´¢ä¹‹åï¼Œè€é¼ å¯èƒ½æ‰¾åˆ°ä¸‰ä¸ªæ°´èµ„æºçš„å°å‹å¤©å ‚ï¼Œå¹¶ä¸”èŠ±è´¹å®ƒçš„æ—¶é—´æ¥åˆ©ç”¨å®ƒçš„å‘ç°ï¼Œé€šè¿‡ä¸æ–­ç§¯ç´¯æ°´èµ„æºçš„å°å‹å¥–åŠ±ï¼Œæ°¸è¿œä¸æ·±å…¥è¿·å®«æ¥è¿½æ±‚æ›´å¤§çš„å¥–åŠ±ã€‚

ä½†æ˜¯ä½ å¯ä»¥çœ‹åˆ°ï¼Œè€é¼ ä¼šé”™è¯¯è¿·å®«æ·±å¤„çš„ä¸€ç‰‡æ›´å¥½çš„ç»¿æ´²ï¼Œå®ƒå°±æ˜¯å°½å¤´å¤„çš„å¥¶é…ªçš„ç»ˆæå¥–åŠ±ã€‚

è¿™å°±äº§ç”Ÿäº†æ¢ç´¢å’Œåˆ©ç”¨çš„æƒè¡¡ã€‚è€é¼ çš„ä¸€ç§ç”¨äºæ¢ç´¢çš„ç®€å•ç­–ç•¥æ˜¯ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ˆå¯ä»¥æ˜¯ 80%ï¼‰ï¼Œåšå‡ºæœ€ä½³çš„å·²çŸ¥åŠ¨ä½œï¼Œä½†æ˜¯å¶å°”æ¢ç´¢æ–°çš„ï¼Œéšæœºé€‰å–çš„æ–¹å‘ï¼Œå³ä½¿å®ƒå¯èƒ½è¿œç¦»å·²çŸ¥å¥–åŠ±ã€‚

è¿™ä¸ªç­–ç•¥å«åš epsilon è´ªå©ªç­–ç•¥ï¼Œå…¶ä¸­ epsilon å°±æ˜¯â€œç»™å®šå…¨éƒ¨å·²çŸ¥çŸ¥è¯†çš„æ¡ä»¶ä¸‹ï¼Œæ™ºèƒ½ä½“åšå‡ºéšæœºé€‰å–çš„åŠ¨ä½œï¼Œè€Œä¸æ˜¯æ›´å¯èƒ½æœ€å¤§åŒ–å¥–åŠ±çš„åŠ¨ä½œâ€çš„æ—¶é—´ç™¾åˆ†æ¯”ï¼ˆè¿™é‡Œæ˜¯ 20%ï¼‰ã€‚æˆ‘ä»¬é€šå¸¸ä»¥å¤§é‡æ¢ç´¢èµ·æ­¥ï¼ˆä¹Ÿå°±æ˜¯è¾ƒé«˜çš„ epsilon å€¼ï¼‰ã€‚ä¸€ä¼šå„¿ä¹‹åï¼Œéšç€è€é¼ æ›´åŠ äº†è§£è¿·å®«ï¼Œä»¥åŠå“ªä¸ªæ“ä½œäº§ç”Ÿæ›´å¤§çš„é•¿æœŸå¥–åŠ±ï¼Œå®ƒä¼šå°† epsilon é€æ¸é™åˆ° 10%ï¼Œæˆ–è€…ç”šè‡³æ›´ä½ï¼Œå› ä¸ºå®ƒä¹ æƒ¯äºåˆ©ç”¨å·²çŸ¥ã€‚

é‡è¦çš„æ˜¯è¦è®°ä½ï¼Œå¥–åŠ±å¹¶ä¸æ€»æ˜¯ç«‹å³çš„ï¼šåœ¨æœºå™¨è€é¼ çš„ç¤ºä¾‹ä¸­ï¼Œè¿·å®«é‡Œå¯èƒ½æœ‰ç‹­é•¿çš„é€šé“ï¼Œä½ éœ€è¦èµ°è¿‡å®ƒï¼Œåœ¨ä½ åˆ°è¾¾å¥¶é…ªä¹‹å‰å¯èƒ½æœ‰å¥½å‡ ä¸ªå†³ç­–ç‚¹ã€‚

![](img/5-2.png)

> æ™ºèƒ½ä½“è§‚æµ‹ç¯å¢ƒï¼Œåšå‡ºåŠ¨ä½œæ¥ä¸ç¯å¢ƒäº’åŠ¨ï¼Œå¹¶æ¥å—æ­£å‘æˆ–è€…è´Ÿå‘çš„å¥–åŠ±ã€‚å›¾ç‰‡æ¥è‡ª [UCB CS 294ï¼šæ·±åº¦å¼ºåŒ–å­¦ä¹ ](https://rll.berkeley.edu/deeprlcourse-fa15/)ï¼Œç”± John Schulman å’Œ Pieter Abbeel è®²æˆ

## é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹

è€é¼ è¿·å®«ä¹‹æ—…å¯ä»¥å½¢å¼åŒ–ä¸ºé©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼ŒçŠ¶æ€åˆ°çŠ¶æ€çš„è½¬ç§»æ‹¥æœ‰ç‰¹å®šçš„æ¦‚ç‡ã€‚æˆ‘ä»¬ä¼šé€šè¿‡å‚è€ƒæˆ‘ä»¬çš„æœºå™¨è€é¼ çš„ç¤ºä¾‹æ¥è§£é‡Šã€‚MDP åŒ…å«ï¼š

+   æœ‰é™çš„çŠ¶æ€é›†ã€‚æˆ‘ä»¬çš„è€é¼ åœ¨è¿·å®«ä¸­æœ‰å¯èƒ½çš„ä½ç½®ã€‚
+   æ¯ä¸ªçŠ¶æ€ä¸Šçš„å¯ç”¨çš„åŠ¨ä½œé›†ã€‚è¿™ä¸ªå°±æ˜¯èµ°å»Šä¸­çš„â€œå‰è¿›ï¼Œåé€€â€ï¼Œæˆ–è€…åå­—è·¯å£ä¸­çš„â€œå‰è¿›ï¼Œåé€€ï¼Œå·¦è½¬ï¼Œå³è½¬â€ã€‚
+   çŠ¶æ€ä¹‹é—´çš„è½¬æ¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨åå­—è·¯å£å·¦è½¬ï¼Œä½ å°±ä¼šåˆ°è¾¾ä¸€ä¸ªæ–°çš„ä½ç½®ã€‚ä¸€ç³»åˆ—æ¦‚ç‡å¯èƒ½é“¾æ¥åˆ°è‡³å°‘ä¸€ä¸ªçŠ¶æ€ä¸Šï¼ˆä¹Ÿå°±æ˜¯ï¼Œå½“ä½ åœ¨å£è¢‹å¦–æ€ªæ¸¸æˆä¸­ä½¿ç”¨æ‹›å¼çš„æ—¶å€™ï¼Œå¯èƒ½æ²¡æ‰“ä¸­ï¼Œé€ æˆä¸€äº›ä¼¤å®³ï¼Œæˆ–è€…é€ æˆè¶³å¤Ÿçš„ä¼¤å®³æ¥å‡»å€’å¯¹æ‰‹ï¼‰ã€‚
+   å’Œæ¯ä¸ªè½¬æ¢æœ‰å…³çš„å¥–åŠ±ã€‚åœ¨æœºå™¨è€é¼ çš„ä¾‹å­ä¸­ï¼Œå¤šæ•°å¥–åŠ±éƒ½æ˜¯ 0ï¼Œä½†æ˜¯å¦‚æœä½ åˆ°è¾¾äº†ä¸€ä¸ªä½ç½®ï¼Œé‚£é‡Œæœ‰æ°´æˆ–è€…å¥¶é…ªï¼Œå°±æ˜¯æ­£çš„ï¼Œå¦‚æœæœ‰ç”µå‡»å°±æ˜¯è´Ÿçš„ã€‚
+   0 å’Œ 1 ä¹‹é—´çš„æŠ˜ç°ç³»æ•°`Î³`ã€‚å®ƒé‡åŒ–äº†ç«‹å³å¥–åŠ±å’Œæœªæ¥å¥–åŠ±çš„é‡è¦æ€§çš„å·®å¼‚ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ`Î³`æ˜¯ 0.9ï¼Œå¹¶ä¸” 3 æ­¥ä¹‹åå¥–åŠ±ä¸º 5ï¼Œé‚£ä¹ˆå¥–åŠ±çš„å½“å‰å€¼å°±æ˜¯`0.9 ** 3 * 5`ã€‚
+   æ— è®°å¿†ã€‚ä¸€æ—¦çŸ¥é“äº†å½“å‰çŠ¶æ€ï¼Œè€é¼ çš„å†å²è¿·å®«è¸ªè¿¹å¯ä»¥æ“¦é™¤ï¼Œå› ä¸ºé©¬å°”ç§‘å¤«çš„å½“å‰çŠ¶æ€åŒ…å«æ¥è‡ªå†å²çš„æ‰€æœ‰æ‹¥æœ‰ä¿¡æ¯ã€‚æ¢å¥è¯è¯´ï¼Œâ€œäº†è§£ç°åœ¨çš„æƒ…å†µä¸‹ï¼Œæœªæ¥ä¸å–å†³äºå†å²â€ã€‚

æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº† MDP æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥å½¢å¼åŒ–è€é¼ çš„ç›®æ ‡ã€‚æˆ‘ä»¬å°è¯•ä½¿é•¿æœŸå¥–åŠ±ä¹‹å’Œæœ€å¤§ã€‚

![](img/5-3.png)

è®©æˆ‘ä»¬é€é¡¹è§‚å¯Ÿè¿™ä¸ªå’Œå¼ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æ‰€æœ‰æ—¶é—´ä¸­å¯¹æ­¥éª¤`t`æ±‚å’Œã€‚è®©æˆ‘ä»¬åœ¨è¿™é‡Œå°†`Î³`è®¾ä¸º 1 å¹¶å¿˜æ‰å®ƒã€‚`r(x,a)`æ˜¯å¥–åŠ±å‡½æ•°ã€‚å¯¹äºçŠ¶æ€`x`å’ŒåŠ¨ä½œ`a`ï¼ˆä¹Ÿå°±æ˜¯åœ¨åå­—è·¯å£å·¦è½¬ï¼‰ï¼Œå®ƒä¼šå¸¦ç»™ä½ å¥–åŠ±ï¼Œå’ŒçŠ¶æ€`s`ä¸Šçš„åŠ¨ä½œ`a`ç›¸å…³ã€‚å›åˆ°æˆ‘ä»¬çš„æ–¹ç¨‹ï¼Œæˆ‘ä»¬å°è¯•ä½¿æœªæ¥å¥–åŠ±çš„å’Œæœ€å¤§ï¼Œé€šè¿‡åœ¨æ¯ä¸ªçŠ¶æ€åšå‡ºæœ€ä½³åŠ¨ä½œã€‚

æ—¢ç„¶æˆ‘ä»¬å»ºç«‹äº†æˆ‘ä»¬çš„å¼ºåŒ–å­¦ä¹ é—®é¢˜ï¼Œå¹¶å½¢å¼åŒ–äº†ç›®æ ‡ï¼Œè®©æˆ‘ä»¬æ¢ç´¢å‡ ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚

## Q å­¦ä¹ ï¼šå­¦ä¹ åŠ¨ä½œ-åˆ†å€¼å‡½æ•°

Q å­¦ä¹ æ˜¯ä¸€ç§æŠ€å·§ï¼Œå®ƒåŸºäºåŠ¨ä½œ-åˆ†å€¼å‡½æ•°æ±‚è§£äº†è¦åšå‡ºå“ªä¸ªåŠ¨ä½œï¼Œè¿™ä¸ªå‡½æ•°ç¡®å®šäº†åœ¨ç‰¹å®šçŠ¶æ€ä¸‹åšå‡ºç‰¹å®šè¡Œä¸ºçš„åˆ†å€¼ã€‚

æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªå‡½æ•°`Q`ï¼Œå®ƒæ¥å—ä¸€ä¸ªçŠ¶æ€å’Œä¸€ä¸ªåŠ¨ä½œä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›è¿™ä¸ªåŠ¨ä½œï¼ˆä»¥åŠæ‰€æœ‰åç»­åŠ¨ä½œï¼‰åœ¨è¿™ä¸ªçŠ¶æ€ä¸Šçš„é¢„æœŸå¥–åŠ±ã€‚åœ¨æˆ‘ä»¬æ¢ç´¢ç¯å¢ƒä¹‹å‰ï¼Œ`Q`æä¾›ç›¸åŒï¼ˆä»»æ„ï¼‰çš„å›ºå®šå€¼ã€‚ä½†æ˜¯ä¹‹åï¼Œéšç€æˆ‘ä»¬æ¢ç´¢äº†æ›´å¤šç¯å¢ƒï¼Œ`Q`å‘æˆ‘ä»¬æä¾›åŠ¨ä½œ`a`åœ¨çŠ¶æ€`s`ä¸Šçš„åˆ†å€¼çš„ï¼Œä¸æ–­ä¼˜åŒ–çš„è¿‘ä¼¼ã€‚æˆ‘ä»¬åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ›´æ–°æˆ‘ä»¬çš„å‡½æ•°`Q`ã€‚

è¿™ä¸ªæ–¹ç¨‹æ¥è‡ªç»´åŸºç™¾ç§‘çš„ Q å­¦ä¹ é¡µé¢ï¼Œå¾ˆå¥½è§£é‡Šäº†å®ƒã€‚ä»–å±•ç¤ºäº†ï¼Œæˆ‘ä»¬å¦‚ä½•æ›´æ–° Q çš„å€¼ï¼ŒåŸºäºæˆ‘ä»¬ä»ç¯å¢ƒä¸­å¾—åˆ°çš„å¥–åŠ±ï¼š

![](img/5-4.png)

è®©æˆ‘ä»¬å¿½ç•¥æŠ˜ç°ç³»æ•°`Î³`ï¼Œå†æ¬¡å°†å…¶è®¾ä¸º 1ã€‚é¦–å…ˆè¦è®°ä½ï¼ŒQ åº”è¯¥ä¸ºæ‰€æœ‰å¥–åŠ±ä¹‹å’Œï¼Œæ¥è‡ªæ‰€é€‰åŠ¨ä½œ Q å’Œæ‰€æœ‰åç»­çš„æœ€ä¼˜åŠ¨ä½œã€‚

ç°åœ¨è®©æˆ‘ä»¬ä»å·¦åˆ°å³æµè§ˆæ–¹ç¨‹ã€‚è®©æˆ‘ä»¬åœ¨çŠ¶æ€`st`ä¸Šåšå‡ºåŠ¨ä½œï¼Œæˆ‘ä»¬æ›´æ–°æˆ‘ä»¬çš„`Q(st,at)`çš„å€¼ï¼Œé€šè¿‡å‘å…¶æ·»åŠ ä¸€é¡¹ã€‚è¿™ä¸€é¡¹åŒ…å«ï¼š

+   å­¦ä¹ ç‡`alpha`ï¼šè¿™è¡¨ç¤ºåœ¨æ›´æ–°æˆ‘ä»¬çš„å€¼æ—¶ï¼Œæˆ‘ä»¬æœ‰å¤šæ¿€è¿›ã€‚å½“`alpha`æ¥è¿‘ 0 æ—¶ï¼Œæˆ‘ä»¬æ›´æ–°å¾—ä¸æ˜¯å¾ˆæ¿€è¿›ã€‚å½“`alpha`æ¥è¿‘ 1 æ—¶ï¼Œæˆ‘ä»¬ç®€å•å°†åŸå€¼æ›¿æ¢ä¸ºæ–°çš„å€¼ã€‚
+   å¥–åŠ±`reward`å°±æ˜¯æˆ‘ä»¬é€šè¿‡åœ¨çŠ¶æ€`st`åšå‡ºåŠ¨ä½œ`at`å¾—åˆ°çš„å¥–åŠ±ã€‚æ‰€ä»¥æˆ‘ä»¬å°†è¿™ä¸ªå¥–åŠ±æ·»åŠ åˆ°åŸæœ‰çš„ä¼°è®¡ä¸­ã€‚
+   æˆ‘ä»¬ä¹Ÿæ·»åŠ äº†ä¼°è®¡çš„æœªæ¥å¥–åŠ±ï¼Œå®ƒå°±æ˜¯`xt+1`ä¸Šçš„æ‰€æœ‰å¯ç”¨åŠ¨ä½œçš„ï¼Œæœ€å¤§çš„å¯å®ç°çš„å¥–åŠ±`Q`ã€‚
+   æœ€åï¼Œæˆ‘ä»¬å‡æ‰åŸæœ‰å€¼`Q`ï¼Œæ¥ç¡®ä¿æˆ‘ä»¬ä»…ä»…å¢åŠ æˆ–å‡å°‘ä¼°è®¡å€¼çš„å·®ï¼ˆå½“ç„¶è¦ä¹˜ä¸Š`alpha`ï¼‰ã€‚

æ—¢ç„¶å¯¹äºæ¯ä¸ªçŠ¶æ€-åŠ¨ä½œçš„å¶å¯¹ï¼Œæˆ‘ä»¬æ‹¥æœ‰äº†å€¼çš„ä¼°è®¡ï¼Œæˆ‘ä»¬å¯ä»¥é€‰å–è¦åšå‡ºå“ªä¸ªåŠ¨ä½œï¼Œæ ¹æ®æˆ‘ä»¬çš„åŠ¨ä½œ-é€‰å–ç­–ç•¥ï¼ˆæˆ‘ä»¬æ¯æ¬¡ä¸ä¸€å®šé€‰æ‹©å¯¼è‡´æœ€å¤§é¢„æœŸå¥–åŠ±çš„åŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ epsilon è´ªå©ªæ¢ç´¢ç­–ç•¥ï¼Œæˆ‘ä»¬ä»¥ä¸€å®šç™¾åˆ†æ¯”åšå‡ºéšæœºçš„åŠ¨ä½œï¼‰ã€‚

åœ¨æœºå™¨è€é¼ çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Q å­¦ä¹ æ¥æ‰¾åˆ°è¿·å®«ä¸­æ¯ä¸ªä½ç½®çš„åˆ†å€¼ï¼Œä»¥åŠæ¯ä¸ªä½ç½®ä¸ŠåŠ¨ä½œâ€œå‰è¿›ï¼Œåé€€ï¼Œå·¦è½¬ï¼Œå³è½¬â€çš„åˆ†å€¼ã€‚ä¹‹åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„åŠ¨ä½œ-é€‰å–ç­–ç•¥ï¼Œæ¥é€‰æ‹©è€é¼ åœ¨æ¯ä¸€æ­¥å®é™…ä¸Šåšä»€ä¹ˆã€‚

## ç­–ç•¥å­¦ä¹ ï¼šçŠ¶æ€åˆ°åŠ¨ä½œçš„æ˜ å°„

åœ¨ Q å­¦ä¹ æ–¹å¼ç§ï¼Œæˆ‘ä»¬ä¹ å¾—äº†ä¸€ä¸ªåˆ†å€¼å‡½æ•°ï¼Œå®ƒä¼°è®¡äº†æ¯ä¸ªçŠ¶æ€-åŠ¨ä½œå¶å¯¹çš„åˆ†å€¼ã€‚

ç­–ç•¥å­¦ä¹ æ˜¯ä¸ªæ›´ç›´æ¥çš„æ›¿ä»£ï¼Œå…¶ä¸­æˆ‘ä»¬ä¹ å¾—ä¸€ä¸ªç­–ç•¥å‡½æ•°`Ï€`ï¼Œå®ƒæ˜¯æ¯ä¸ªçŠ¶æ€åˆ°æœ€ä½³å¯¹åº”åŠ¨ä½œçš„ç›´æ¥æ˜ å°„ã€‚å°†å…¶çœ‹åšä¸€ä¸ªè¡Œä¸ºç­–ç•¥ï¼šâ€œå½“æˆ‘è§‚æµ‹åˆ°çŠ¶æ€`s`æ—¶ï¼Œæœ€å¥½æ‰§è¡ŒåŠ¨ä½œ`a`ã€‚â€ä¾‹å¦‚ï¼Œä¸€ä¸ªè‡ªåŠ¨é©¾é©¶çš„ç­–ç•¥å¯èƒ½åŒ…æ‹¬ï¼šâ€œå¦‚æœæˆ‘çœ‹åˆ°é»„ç¯ï¼Œå¹¶ä¸”æˆ‘ç¦»åå­—è·¯å£è¶…è¿‡ 100 è‹±å°ºï¼Œæˆ‘åº”è¯¥åœä¸‹æ¥ã€‚å¦åˆ™ï¼Œç»§ç»­å‘å‰ç§»åŠ¨ã€‚â€

![](img/5-5.png)

> ç­–ç•¥æ˜¯çŠ¶æ€åˆ°åŠ¨ä½œçš„æ˜ å°„

æ‰€ä»¥æˆ‘ä»¬ä¹ å¾—äº†ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šä½¿é¢„æœŸå¥–åŠ±æœ€å¤§ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä»€ä¹ˆæœ€æ“…é•¿ä¹ å¾—å¤æ‚çš„å‡½æ•°å‘¢ï¼Ÿæ·±åº¦ç¥ç»ç½‘ç»œï¼

Andrej Karpathy çš„ [Pong from Pixels](https://karpathy.github.io/2016/05/31/rl/) æä¾›äº†ä¸€ä¸ªæ°å‡ºçš„ç¤ºä¾‹ï¼Œå…³äºä¹ å¾—ä¸€ä¸ªç”¨äº Atari æ¸¸æˆ Pong çš„ç­–ç•¥ï¼Œå®ƒæ¥å—æ¥è‡ªæ¸¸æˆçš„åŸå§‹åƒç´ ä½œä¸ºè¾“å…¥ï¼ˆçŠ¶æ€ï¼‰ï¼Œå¹¶è¾“å‡ºå‘ä¸Šæˆ–å‘ä¸‹ç§»åŠ¨æ‹å­çš„æ¦‚ç‡ï¼ˆåŠ¨ä½œï¼‰ã€‚

![](img/5-6.png)

> åœ¨ç­–ç•¥æ¢¯åº¦ç½‘ç»œä¸­ï¼Œæ™ºèƒ½ä½“ä¹ å¾—æœ€ä¼˜ç­–ç•¥ï¼Œé€šè¿‡åŸºäºæ¥è‡ªç¯å¢ƒçš„å¥–åŠ±ä¿¡å·ï¼Œä½¿ç”¨æ¢¯åº¦ä¸‹é™æ¥è°ƒæ•´å®ƒçš„æƒé‡ã€‚å›¾ç‰‡æ¥è‡ª <http://karpathy.github.io/2016/05/31/rl/>

å¦‚æœä½ æ‰“ç®—äº²è‡ªè¯•ä¸€è¯•æ·±åº¦ RLï¼ŒæŸ¥çœ‹ Andrej çš„æ–‡ç« ã€‚ä½ ä¼šåœ¨ 130 è¡Œä»£ç å†…å®ç°ä¸€ä¸ªäºŒå±‚çš„ç­–ç•¥ç½‘ç»œï¼Œå¹¶ä¸”ä¼šå­¦åˆ°å¦‚ä½•åˆ‡å…¥ OpenAI çš„è®­ç»ƒåœºï¼Œå®ƒå…è®¸ä½ å®ç°å¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ªå¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œåœ¨å¤§é‡æ¸¸æˆä¸Šæµ‹è¯•å®ƒï¼Œå¹¶ä¸”æŸ¥çœ‹å®ƒçš„è¡¨ç°ä¸å…¶å®ƒè®°å½•ç›¸æ¯”æ€ä¹ˆæ ·ã€‚

## DQNï¼ŒA3Cï¼Œå’Œæ·±åº¦ RL ä¸­çš„è¿›å±•

åœ¨ 2015 å¹´ï¼ŒDeepMind ä½¿ç”¨äº†ä¸€ä¸ªå«åšæ·±åº¦ Q ç½‘ç»œï¼ˆDQNï¼‰çš„æ–¹æ³•ï¼Œä½¿ç”¨æ·±åº¦ç¥ç»ç½‘ç»œè¿‘ä¼¼ Q å‡½æ•°ï¼Œä»¥ä¾¿åœ¨è®¸å¤š Atari æ¸¸æˆä¸­å‡»è´¥äººç±»ï¼š

> æˆ‘ä»¬å±•ç¤ºäº†æ·±åº¦ Q ç½‘ç»œçš„æ™ºèƒ½ä½“ï¼Œä»…æ¥æ”¶åƒç´ å’Œæ¸¸æˆå¾—åˆ†ä½œä¸ºè¾“å…¥ï¼Œèƒ½å¤Ÿè¶…è¶Šæ‰€æœ‰ä»¥å‰çš„ç®—æ³•çš„è¡¨ç°ï¼Œå¹¶åœ¨ä¸€ç»„ 49 ä¸ªæ¸¸æˆä¸­ï¼Œè¾¾åˆ°ä¸“ä¸šäººç±»æ¸¸æˆæµ‹è¯•äººå‘˜çš„ç›¸å½“æ°´å¹³ï¼Œä½¿ç”¨ç›¸åŒçš„ç®—æ³•ï¼Œç½‘ç»œæ¶æ„å’Œè¶…å‚æ•°ã€‚ è¿™é¡¹å·¥ä½œå¼¥åˆäº†é«˜ç»´æ„ŸçŸ¥è¾“å…¥å’ŒåŠ¨ä½œä¹‹é—´çš„é¸¿æ²Ÿï¼Œäº§ç”Ÿäº†ç¬¬ä¸€ä¸ªäººå·¥æ™ºèƒ½ä½“ï¼Œå®ƒèƒ½å¤Ÿåœ¨å¤šç§æŒ‘æˆ˜æ€§ä»»åŠ¡ä¸­ï¼Œå­¦ç€å˜å¾—ä¼˜ç§€ã€‚ï¼ˆ[Silver ç­‰ï¼Œ2015](https://storage.googleapis.com/deepmind-media/dqn/DQNNaturePaper.pdf)ï¼‰

è¿™é‡Œæ˜¯ä¸€ä¸ªæˆªå›¾ï¼Œå±•ç¤ºäº†åœ¨ä¸åŒé¢†åŸŸä¸­ï¼Œä¸çº¿æ€§å­¦ä¹ å™¨å’Œäººç±»ç›¸æ¯”ï¼ŒDQN çš„ä½ç½®ã€‚

![](img/5-7.png)

> è¿™äº›æŒ‰ç…§èŒä¸šäººç±»æ¸¸æˆæµ‹è¯•è€…æ¥æ­£åˆ™åŒ–ï¼š0% = éšä¾¿ç©ç©ï¼Œ100% = äººç±»çš„è¡¨ç°ã€‚æ¥æºï¼šDeepMind çš„ DQN è®ºæ–‡ï¼Œ[é€šè¿‡æ·±åº¦å¼ºåŒ–å­¦ä¹ çš„äººç±»çº§åˆ«æ§åˆ¶](https://storage.googleapis.com/deepmind-media/dqn/DQNNaturePaper.pdf)

ä¸ºäº†å¸®åŠ©ä½ æ„å»ºä¸€äº›ç›´è§‰ï¼Œå…³äºè¿™äº›è¿›å±•åœ¨ RL ç ”ç©¶ä¸­äº§ç”Ÿï¼Œè¿™é‡Œæ˜¯ä¸€äº›æ”¹è¿›çš„ä¾‹å­ï¼Œå…³äºéçº¿æ€§ Q å‡½æ•°ä¸Šçš„å°è¯•ï¼Œå®ƒå¯ä»¥æ”¹å–„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚

+   ç»éªŒé‡æ”¾ï¼Œé€šè¿‡éšæœºåŒ–ä¹‹å‰çš„è§‚æµ‹å€¼çš„æ›´é•¿çš„åºåˆ—ï¼Œä»¥åŠå¯¹åº”çš„å¥–åŠ±ï¼Œæ¥é¿å…è¿‘æœŸç»éªŒçš„è¿‡æ‹Ÿåˆã€‚è¿™ä¸ªæ€è·¯ç”±ç”Ÿç‰©å¤§è„‘å¯å‘ï¼šä¾‹å¦‚è€é¼ èµ°è¿·å®«ï¼Œåœ¨ç¡è§‰æœŸé—´â€œé‡æ”¾â€ç¥ç»æ´»åŠ¨çš„æ¨¡å¼ï¼Œä»¥ä¾¿æå‡è¿·å®«ä¸­çš„æœªæ¥è¡¨ç°ã€‚

+   å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰æ‰©å±•çš„ DQNã€‚å½“ä¸€ä¸ªæ™ºèƒ½ä½“åªèƒ½çœ‹åˆ°å®ƒçš„ç›´æ¥ç¯å¢ƒæ—¶ï¼ˆä¹Ÿå°±æ˜¯æœºå™¨è€é¼ åªèƒ½çœ‹åˆ°è¿·å®«çš„ç‰¹å®šåŒºåŸŸï¼Œè€Œä¸€åªé¸Ÿå¯ä»¥çœ‹åˆ°æ•´ä¸ªè¿·å®«ï¼‰ï¼Œæ™ºèƒ½ä½“éœ€è¦è®°ä½æ›´å¤§çš„åœ°å›¾ï¼Œä»¥ä¾¿å®ƒè®°ä½ä¸œè¥¿éƒ½åœ¨å“ªé‡Œã€‚è¿™ç±»ä¼¼äºäººç±»å©´å„¿å¦‚ä½•å‘å±•å‡ºâ€œ[ç‰©ä½“æ’å­˜æ€§](https://en.wikipedia.org/wiki/Object_permanence)â€ï¼ˆobject permanenceï¼‰ï¼Œæ¥äº†è§£ä¸œè¥¿æ˜¯å­˜åœ¨çš„ï¼Œå³ä½¿å®ƒä»¬ç¦»å¼€äº†å©´å„¿çš„è§†é‡èŒƒå›´ã€‚RNN æ˜¯å¾ªç¯çš„ï¼Œä¹Ÿå°±æ˜¯ï¼Œå®ƒä»¬å…è®¸ä¿¡æ¯é•¿æ—¶é—´å­˜åœ¨ã€‚è¿™é‡Œæ˜¯æ·±åº¦å¾ªç¯ Q ç½‘ç»œï¼ˆDQRNï¼‰ç© Doom çš„è§†é¢‘ï¼Œä»¤äººå°è±¡æ·±åˆ»ã€‚

> è®ºæ–‡ï¼š<https://arxiv.org/abs/1609.05521>ã€‚æ¥æºï¼šArthur Juliani çš„â€œ[ä½¿ç”¨ TensorFlow çš„ç®€å•çš„å¼ºåŒ–å­¦ä¹ ](https://medium.com/emergent-future/simple-reinforcement-learning-with-tensorflow-part-6-partial-observability-and-deep-recurrent-q-68463e9aeefc%23.gi4xdq8pk)â€ç³»åˆ—ã€‚
